**ユーザーテーブル (users)**

| 論理名         | 物理名     | 概要                         | 型       | 主キー | NOT NULL | INDEX |
| -------------- | ---------- | ---------------------------- | -------- | ------ | -------- | ----- |
| ID             | id         | ユーザーの一意の識別子(UUID) | String   | ○      | ○        | ○     |
| 名前           | name       | ユーザー名                   | String   | -      | ○        | -     |
| メールアドレス | email      | メールアドレス               | String   | -      | ○        | -     |
| 作成日時       | created_at | レコードの作成日時           | DateTime | -      | ○        | -     |
| 更新日時       | updated_at | レコードの更新日時           | DateTime | -      | ○        | -     |

**シェフテーブル (chefs)**

- roleがユーザーの場合は、user_idに値が入る
- roleがシェフの場合は、user_idに値が入らない

| 論理名       | 物理名     | 概要                                  | 型       | 主キー | NOT NULL | INDEX |
| ------------ | ---------- | ------------------------------------- | -------- | ------ | -------- | ----- |
| ID           | id         | シェフの一意の識別子(UUID)            | String   | ○      | ○        | ○     |
| ユーザー ID  | user_id    | ユーザーテーブルの ID(UUID),外部キー  | String   | -      | -        | -     |
| 役割         | role       | ユーザーの役割 (ユーザー:1, シェフ:2) | Integer  | -      | ○        | -     |
| 名前         | name       | シェフの名前                          | String   | -      | ○        | -     |
| プロフィール | profile    | シェフのプロフィール情報              | String   | -      | -        | -     |
| 画像 URL     | image_url  | シェフの画像の URL                    | String   | -      | -        | -     |
| 作成日時     | created_at | レコードの作成日時                    | DateTime | -      | ○        | -     |
| 更新日時     | updated_at | レコードの更新日時                    | DateTime | -      | ○        | -     |

**フォローテーブル (follows)**

| 論理名      | 物理名     | 概要                                   | 型       | 主キー | NOT NULL | INDEX |
| ----------- | ---------- | -------------------------------------- | -------- | ------ | -------- | ----- |
| ID          | id         | フォローの一意の識別子(UUID)           | String   | ○      | ○        | ○     |
| シェフ ID   | chef_id    | フォローするシェフの ID(UUID),外部キー | String   | -      | ○        | ○     |
| ユーザー ID | user_id    | ユーザーの ID(UUID),外部キー           | String   | -      | ○        | ○     |
| 作成日時    | created_at | レコードの作成日時                     | DateTime | -      | ○        | -     |
| 更新日時    | updated_at | レコードの更新日時                     | DateTime | -      | ○        | -     |

**リンクテーブル (links)**

| 論理名       | 物理名       | 概要                                   | 型       | 主キー | NOT NULL | INDEX |
| ------------ | ------------ | -------------------------------------- | -------- | ------ | -------- | ----- |
| ID           | id           | リンクの一意の識別子(UUID)             | String   | ○      | ○        | ○     |
| シェフ ID    | chef_id      | フォローするシェフの ID(UUID),外部キー | String   | -      | ○        | ○     |
| サイト名     | site_name    | リンク先のサイト名                     | String   | -      | ○        | -     |
| URL          | url          | リンク先の URL                         | String   | -      | ○        | -     |
| アカウント名 | account_name | リンク先のアカウント名                 | String   | -      | -        | -     |
| 作成日時     | created_at   | レコードの作成日時                     | DateTime | -      | ○        | -     |
| 更新日時     | updated_at   | レコードの更新日時                     | DateTime | -      | ○        | -     |

**レシピテーブル (recipes)**

- ユーザーのchef_idとレシピテーブルのchef_idが同じ値の場合、マイレシピとして表示する

| 論理名         | 物理名       | 概要                                        | 型       | 主キー | NOT NULL | INDEX |
| -------------- | ------------ | ------------------------------------------- | -------- | ------ | -------- | ----- |
| ID             | id           | レシピの一意の識別子(UUID)                  | String   | ○      | ○        | ○     |
| シェフ ID      | chef_id      | フォローするシェフの ID(UUID),外部キー      | String   | -      | ○        | ○     |
| 名前           | name         | レシピ名                                    | String   | -      | -        | -     |
| 概要           | overview     | レシピの概要                                | String   | -      | -        | -     |
| 何人分         | serving_size | レシピの分量（何人分か）                    | Integer   | -      | ○        | -     |
| 公開ステータス | status | レシピの公開ステータス (作成中、下書き、公開、非公開) | String  | -      | ○        | -     |
| 作成日時       | created_at   | レコードの作成日時                          | DateTime | -      | ○        | -     |
| 更新日時       | updated_at   | レコードの更新日時                          | DateTime | -      | ○        | -     |

**いいねテーブル (likes)**

| 論理名      | 物理名     | 概要                                         | 型       | 主キー | NOT NULL | INDEX |
| ----------- | ---------- | -------------------------------------------- | -------- | ------ | -------- | ----- |
| ID          | id         | いいねの一意の識別子(UUID)                   | String   | ○      | ○        | ○     |
| ユーザー ID | user_id    | いいねをしたユーザーの ID(UUID),外部キー     | String   | -      | ○        | ○     |
| レシピ ID   | recipe_id  | いいねを対象とするレシピの ID(UUID),外部キー | String   | -      | ○        | ○     |
| 作成日時    | created_at | レコードの作成日時                           | DateTime | -      | ○        | -     |
| 更新日時    | updated_at | レコードの更新日時                           | DateTime | -      | ○        | -     |

**レシピ画像テーブル (recipe_images)**

| 論理名    | 物理名     | 概要                                           | 型       | 主キー | NOT NULL | INDEX |
| --------- | ---------- | ---------------------------------------------- | -------- | ------ | -------- | ----- |
| ID        | id         | 画像の一意の識別子(UUID)                       | String   | ○      | ○        | ○     |
| レシピ ID | recipe_id  | 画像に関連付けられたレシピの ID(UUID),外部キー | String   | -      | ○        | ○     |
| 画像 URL  | image_url  | 画像の URL                                     | String   | -      | ○        | -     |
| 作成日時  | created_at | レコードの作成日時                             | DateTime | -      | ○        | -     |
| 更新日時  | updated_at | レコードの更新日時                             | DateTime | -      | ○        | -     |

**作り方テーブル (recipe_steps)**

| 論理名    | 物理名      | 概要                                           | 型       | 主キー | NOT NULL | INDEX |
| --------- | ----------- | ---------------------------------------------- | -------- | ------ | -------- | ----- |
| ID        | id          | 手順の一意の識別子(UUID)                       | String   | ○      | ○        | ○     |
| レシピ ID | recipe_id   | 手順に関連付けられたレシピの ID(UUID),外部キー | String   | -      | ○        | ○     |
| 順番      | step        | 作り方の順番                                   | Integer  | -      | ○        | -     |
| 説明      | description | 手順の説明                                     | String   | -      | ○        | -     |
| 作成日時  | created_at  | レコードの作成日時                             | DateTime | -      | ○        | -     |
| 更新日時  | updated_at  | レコードの更新日時                             | DateTime | -      | ○        | -     |

**レシピのリンクテーブル (recipe_links)**

| 論理名    | 物理名      | 概要                                           | 型       | 主キー | NOT NULL | INDEX |
| --------- | ----------- | ---------------------------------------------- | -------- | ------ | -------- | ----- |
| ID        | id          | 手順の一意の識別子(UUID)                       | String   | ○      | ○        | ○     |
| レシピ ID | recipe_id   | 手順に関連付けられたレシピの ID(UUID),外部キー | String   | -      | ○        | ○     |
| URL      | url        | リンク                                   | String  | -      | ○        | -     |
| 作成日時  | created_at  | レコードの作成日時                             | DateTime | -      | ○        | -     |
| 更新日時  | updated_at  | レコードの更新日時                             | DateTime | -      | ○        | -     |


**材料テーブル (recipe_ingredients)**

| 論理名    | 物理名     | 概要                                           | 型       | 主キー | NOT NULL | INDEX |
| --------- | ---------- | ---------------------------------------------- | -------- | ------ | -------- | ----- |
| ID        | id         | 材料の一意の識別子(UUID)                       | String   | ○      | ○        | ○     |
| レシピ ID | recipe_id  | 画像に関連付けられたレシピの ID(UUID),外部キー | String   | -      | ○        | ○     |
| 名前      | text       | 材料名や数量の自由入力                                         | String   | -      | ○        | -     |
| 作成日時  | created_at | レコードの作成日時                             | DateTime | -      | ○        | -     |
| 更新日時  | updated_at | レコードの更新日時                             | DateTime | -      | ○        | -     |

**買い物リストテーブル (shopping_lists)**

- お買い物に追加の機能を使う場合、材料テーブルのrecipe_idをrecipe_idに登録する

| 論理名      | 物理名     | 概要                                                                   | 型       | 主キー | NOT NULL | INDEX |
| ----------- | ---------- | ---------------------------------------------------------------------- | -------- | ------ | -------- | ----- |
| ID          | id         | 買い物リストの一意の識別子(UUID)                                       | String   | ○      | ○        | ○     |
| ユーザー ID | user_id    | ユーザーの ID(UUID),外部キー                                           | String   | -      | ○        | ○     |
| レシピ ID   | recipe_id  | 手順に関連付けられたレシピの ID(UUID),外部キー 、null の時はじぶんメモ | String   | -      | -        | ○     |
| ソート順    | sort_order | 買い物リストのソート順                                                 | Integer  | -      | ○        | -     |
| 作成日時    | created_at | レコードの作成日時                                                     | DateTime | -      | ○        | -     |
| 更新日時    | updated_at | レコードの更新日時                                                     | DateTime | -      | ○        | -     |

**買い物材料テーブル (shopping_list_ingredients)**

- お買い物に追加の機能を使う場合、材料テーブルのname,noteをname,noteに登録する

| 論理名          | 物理名           | 概要                                                 | 型       | 主キー | NOT NULL | INDEX |
| --------------- | ---------------- | ---------------------------------------------------- | -------- | ------ | -------- | ----- |
| ID              | id               | 材料の一意の識別子(UUID)                             | String   | ○      | ○        | ○     |
| 買い物リスト ID | shopping_list_id | 買い物リストに関連付けられた材料の ID(UUID),外部キー | String   | -      | ○        | ○     |
| 名前            | name             | 材料名                                               | String   | -      | ○        | -     |
| 購入フラグ      | is_bought        | 材料のステータス (未購入: 0, 購入済み: 1)            | Boolean  | -      | ○        | -     |
| 作成日時        | created_at       | レコードの作成日時                                   | DateTime | -      | ○        | -     |
| 更新日時        | updated_at       | レコードの更新日時                                   | DateTime | -      | ○        | -     |

**じぶん用買い物メモテーブル(shopping_memos)**

| 論理名      | 物理名     | 概要                                      | 型       | 主キー | NOT NULL | INDEX |
| ----------- | ---------- | ----------------------------------------- | -------- | ------ | -------- | ----- |
| ID          | id         | 材料の一意の識別子(UUID)                  | String   | ○      | ○        | ○     |
| ユーザー ID | user_id    | ユーザーの ID(UUID),外部キー              | String   | -      | ○        | ○     |
| テキスト        | text       | 材料名や数量の自由入力                                    | String   | -      | ○        | -     |
| 補足        | note       | 材料の補足情報                            | String   | -      | -        | -     |
| 購入フラグ  | is_bought  | 材料のステータス (未購入: 0, 購入済み: 1) | Boolean  | -      | ○        | -     |
| 作成日時    | created_at | レコードの作成日時                        | DateTime | -      | ○        | -     |
| 更新日時    | updated_at | レコードの更新日時                        | DateTime | -      | ○        | -     |

### 疑問・確認事項

#### 1. 仕様に関して

- 材料テーブルに材料名とは別にメモがあるが、じぶんメモに必要かどうか
- 買い物リストでレシピの材料からコピーしたものは、材料名、メモが表示されているが、買い物リスト画面から買うものを追加するときにメモは登録可能かどうか
- SNSのフォロワー数の取得方法

#### 2. 仕様に関して

-